{% extends "work/work_base.html" %}

{% load widget_tweaks %}
{% load static %}

{% block work_content %}
<div class="container">
  <div class="row">
    <h3>Property List</h3>
  </div>
<h4>Weekly jobs</h4>
  <table data-toggle="table" data-search="true" class="table table-sm">
    <thead>
      <tr>
        <th data-sortable="true" data-field="id" scope="col">ID#</th>
        <th data-sortable="true" data-field="property" scope="col">Property</th>
        <th data-sortable="true" data-field="client" scope="col">Client</th>
        <th data-sortable="true" data-field="timesPerWeek" scope="col">Times Per Week</th>
        <th data-sortable="true" data-field="daysOfWeek" scope="col">Days of Week</th>
      </tr>
    </thead>
    <tbody>
      {%for property in weekly %}
      {%if property.check_priority == 1%}
      {%if property.times_per_week  %}
      <tr>
        <th scope="row">{{forloop.counter}}</th>
        <td>{{property.display_name}}</td>
        <td>{{property.client_name}}</td>
        <td>{{property.times_per_week}}</td>
        <td>{%if property.times_per_week == 7%}All{%else%}{{property.days_of_week}}{%endif%}</td>
      </tr>
      {%endif%}
      {%endif%}
      {%endfor%}
    </tbody>
  </table>

<h4>Monthly (commercial) jobs</h4>

  <table data-toggle="table"  class="table table-sm">
    <thead>
      <tr>
        <th data-sortable="true" data-field="id" scope="col">ID#</th>
        <th data-sortable="true" data-field="property" scope="col">Property</th>
        <th data-sortable="true" data-field="client" scope="col">Client</th>>
        <th data-sortable="true" data-field="timesPerMonth" scope="col">Times Per Month</th>
      </tr>
    </thead>
    <tbody>
      {%for property in object_list %}
      {%if property.check_priority == 1%}
      {%if property.times_per_month  %}
      <tr>
        <th scope="row">{{forloop.counter}}</th>
        <td>{{property.display_name}}</td>
        <td>{{property.client_name}}</td>
        <td>{{property.times_per_month}}</td>
      </tr>
      {%endif%}
      {%endif%}
      {%endfor%}
    </tbody>
  </table>

<h4>Seasonal jobs</h4>

    <table data-toggle="table" class="table table-sm">
      <thead>
        <tr>
          <th data-sortable="true" data-field="id" scope="col">ID#</th>
          <th data-sortable="true" data-field="property" scope="col">Property</th>
          <th data-sortable="true" data-field="client" scope="col">Client</th>>
          <th data-sortable="true" data-field="timesPerYear" scope="col">Times Per Year</th>
        </tr>
      </thead>
      <tbody>
        {%for property in object_list %}
        {%if property.times_per_year  %}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td>{{property.display_name}}</td>
          <td>{{property.client_name}}</td>
          <td>{{property.times_per_year}}</td>
        </tr>
        {%endif%}
        {%endfor%}
      </tbody>
    </table>

<h4>All else</h4>

    <table data-toggle="table"  class="table table-sm">
      <thead>
        <tr>
          <th data-sortable="true" data-field="id" scope="col">ID#</th>
          <th data-sortable="true" data-field="property" scope="col">Property</th>
          <th data-sortable="true" data-field="client" scope="col">Client</th>>
          <th data-sortable="true" data-field="timesPerYear" scope="col">Times Per Year</th>
        </tr>
      </thead>
      <tbody>
        {%for property in object_list %}
        {%if not property.times_per_year and not property.times_per_month and not property.times_per_week  %}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td>{{property.display_name}}</td>
          <td>{{property.client_name}}</td>
          <td>{{property.times_per_year}}</td>
        </tr>
        {%endif%}
        {%endfor%}
      </tbody>
    </table>

</div>
{% endblock %}
